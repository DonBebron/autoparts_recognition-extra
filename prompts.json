{
    "audi": {
        "main_prompt": "Identify the VAG (Volkswagen Audi Group) part number from the photo using this comprehensive algorithm:\n1. **Scan the Image Thoroughly:**\n   - Examine all text and numbers in the image, focusing on labels, stickers, or embossed areas.\n   - Pay special attention to the upper part of labels, areas near barcodes, and any prominent alphanumeric sequences.\n2. **Understand Detailed VAG Part Number Structure:**\n   - Total length: Typically 11-13 characters (including spaces or hyphens)\n   - Format: [First Number] [Middle Number] [Final Number] [Index] [Software Variant]\n\n   Example: 5K0 937 087 AC Z15\n\n   Detailed Breakdown:\n   a) First Number (3 characters):\n      - First two digits: Vehicle type (e.g., 3D = Phaeton, 1J = Golf IV, 8L = Audi A3)\n      - Third digit: Body shape or variant\n        0 = general, 1 = left-hand drive, 2 = right-hand drive, 3 = two-door, 4 = four-door,\n        5 = notchback, 6 = hatchback, 7 = special shape, 8 = coupe, 9 = variant\n   b) Middle Number (3 digits):\n      - First digit: Main group (e.g., 1 = engine, 2 = fuel/exhaust, 3 = transmission, 4 = front axle, 5 = rear axle)\n      - Last two digits: Subgroup within the main group\n   c) Final Number (3 digits):\n      - Identifies specific part within subgroup\n      - Odd numbers often indicate left parts, even numbers right parts\n   d) Index (1-2 LETTERS): Identifies variants, revisions, or colors\n   e) Software Variant (2-3 characters): Often starts with Z (e.g., Z15, Z4)\n3. **Identify and Verify with Precision:**\n   - The first three parts (First, Middle, Final Numbers) are crucial and must be present.\n   - Index and Software Variant may not always be visible or applicable.\n   - Check for consistency with known vehicle types and component groups.\n4. **Navigate Common Pitfalls and Special Cases:**\n   - Character Confusion:\n     '1' vs 'I', '0' vs 'O', '8' vs 'B', '5' vs 'S', '2' vs 'Z'\n   - Upside-down numbers: Be vigilant for numbers that make sense when flipped.\n   - Standard parts: May start with 9xx.xxx or 052.xxx\n   - Exchange parts: Often marked with an 'X'\n   - Color codes: e.g., GRU for primed parts requiring painting\n5. **Context-Based Verification:**\n   - Consider the part's apparent function in relation to its number.\n   - Check for consistency with visible vehicle model or component type.\n   - Look for supporting information like manufacturer logos or additional part descriptors.\nProvide the response in this format:\n- Valid part number identified: `<START> [VAG Part Number] <END>`\n- No valid number found: `<START> NONE <END>`\nInclude spaces between number segments as shown in the example structure above.\nIf there are multiple numbers in the image, please identify the one that is most likely to be the correct part number.",
        "validation_prompt": "Validate the following VAG (Volkswagen Audi Group) part number: {extracted_number}\n\nRules for validation:\n1. The number should consist of 9-11 characters.\n2. It may or may not be visibly divided into groups.\n3. The structure MUST adhere to this pattern:\n   - First part: EXACTLY 3 characters (letters and/or digits) (e.g., \"5Q0\", \"8S0\", \"4H0\")\n   - Second part: EXACTLY 3 digits (e.g., \"937\", \"907\")\n   - Third part: 3-5 characters, MUST start with a digit, MAY end with one or two letters (e.g., \"085B\", \"468D\", \"801A\", \"1234E\", \"5678FG\")\n4. The entire number may be continuous without spaces, but should still follow the above structure.\n5. Pay extra attention to commonly confused digits:\n   - '9' and '8' can be easily confused\n   - '0' and 'O' (letter O) should not be mixed up\n   - '1' and 'I' (letter I) should not be confused\n6. Ensure no extra digits or characters are included that don't belong to the actual part number.\n7. Check if the number could be an upside-down non-VAG number:\n   - Look for patterns that might make sense when flipped (e.g., \"HOSE\" could look like \"3SOH\" upside down)\n   - Be cautious of numbers that don't follow the typical VAG format but could be valid when flipped\n\nPreviously incorrect predictions on this page: {incorrect_predictions}\n\nTry to think step by step, do not rush.\n\nIf the number follows these rules and is not likely to be an upside-down non-VAG number, respond with:\n<VALID>\nIf the number does not follow these rules, seems incorrect, or could be an upside-down non-VAG number, respond with:\n<INVALID>\nExplanation: [Brief explanation of why it's valid or invalid, including the number itself and any concerns about it being upside-down]"
    },
    "toyota": {
        "main_prompt": "Identify the Toyota Part Number from the Photo Using This Comprehensive Algorithm:\n\nScan the Image Thoroughly:\n\nFocus on all text and numbers in the image, especially labels, stickers, or embossed sections.\nThe Toyota part number is usually near the word \"Toyota.\"\nUnderstand Detailed Toyota Part Number Structure:\n\nTotal Length: Typically 10 characters, often with a hyphen in the middle.\nFormat: [Main Group] - [Specific Part Code].\nFor example: \"89661-22480\"\nDetailed Breakdown:\n\nMain Group (First Five Characters): This identifies the main part category and subgroup within Toyota's catalog.\nSpecific Part Code (Second Five Characters): Refers to the specific design, model compatibility, or version of the part.\nIdentify and Verify with Precision:\n\nBoth Parts: Ensure both parts (Main Group and Specific Part Code) are present and follow Toyota's numbering format.\nCross-Check with Known Categories: Ensure that the part number aligns with known Toyota numbering conventions.\nNavigate Common Pitfalls and Special Cases:\n\nCharacter Confusion: Double-check common character misinterpretations:\n\nContext-Based Verification: Consider the part's function relative to its number. Verify it against any visible Toyota model or component type.\nRe-check the Part Number for Accuracy:\n\nAfter identifying the potential part number, confirm each character by comparing it with known Toyota part number structures. Avoid making assumptions based on visual similarity.\nFinal Verification:\n\nIf multiple numbers are present, identify the one most likely to be the correct part number, based on proximity to the Toyota label and format adherence.\n\nResponse Format:\n\nIf a part number is identified: <START> [Toyota Part Number] <END>\nIf no valid number is identified: <START> NONE <END>",
        "validation_prompt": "Validate the following Toyota part number: {extracted_number}\n\nRules for validation:\n1. The Toyota part number should consist of exactly 10 characters.\n2. The format MUST adhere to this structure:\n   - First part (Main Group): EXACTLY 5 characters (e.g., \"89661\", \"17500\")\n   - Hyphen (required): separates the Main Group and Specific Part Code.\n   - Second part (Specific Part Code): EXACTLY 5 characters (e.g., \"30301\", \"50010\")\n3. Ensure no additional digits, characters, or spaces are included outside of this format.\n4. Double-check for commonly confused characters:\n   - '0' and 'O' (letter O) should not be mixed up.\n   - '3' and '8' can look similar; verify carefully.\n   - '1' and 'I' (letter I) or '7' should not be confused.\n5. Verify that both parts (Main Group and Specific Part Code) follow Toyota's numbering conventions for part numbers:\n   - Typically, the first three digits in the Main Group identify the part category.\n   - Specific Part Code is model-specific and version-specific.\n\nPreviously incorrect predictions on this page: {incorrect_predictions}\n\nTake a step-by-step approach to avoid mistakes.\n\nIf the number follows these rules, respond with:\n<VALID>\nIf the number does not follow these rules or appears to contain errors, respond with:\n<INVALID>\nExplanation: [Provide a brief explanation of why it's valid or invalid, including details about any formatting errors or character confusion concerns.]"
    },
    "nissan": {
        "main_prompt": "Identify the Nissan Part Number from the Photo Using This Comprehensive Algorithm:\n\n1. **Scan the Image Thoroughly:**\n   - Focus on all text and numbers in the image, especially labels, stickers, or embossed sections.\n   - The Nissan part number is typically near the word \"Nissan\".\n   - The Nissan part number can also be located near the barcode.\n\n2. **Understand Detailed Nissan Part Number Structure:**\n   - Total Length: Typically 10 or 6 characters, but can be a bit smaller or bigger, often with a hyphen in the middle.\n   - Format: [Part Type Group] - [Unique Part Identifier].\n   - Example: \"11060-1CA0A\", \"NEC000-869\", \"A65-Z90\".\n\n3. **Detailed Breakdown:**\n   - **Part Type Group (First Five or Three Characters):** Identifies the main part category within Nissan catalog.\n   - **Unique Part Identifier (Second Five or Three Characters):** Provides specifics such as model compatibility, design, and version of the part.\n\n4. **Identify and Verify with Precision:**\n   - Ensure both parts (Part Type Group and Unique Part Identifier) are present and follow Nissan's numbering format.\n   - Cross-check with known categories to confirm alignment with Nissan numbering conventions.\n\n5. **Navigate Common Pitfalls and Special Cases:**\n   - Character Confusion: Double-check common character misinterpretations, like \"0\" and \"O\" or \"1\" and \"I\".\n   - Context-Based Verification: Verify the part function relative to its number, and check if it correlates with visible Nissan model details or component type.\n\n6. **Re-check the Part Number for Accuracy:**\n   - After identifying the potential part number, confirm each character by comparing it with known Nissan part number structures.\n   - Avoid assumptions based on visual similarity.\n\n7. **Final Verification:**\n   - If multiple numbers are present, identify the one most likely to be the correct part number based on its proximity to the \"Nissan\" label and format adherence.\n\n**Response Format:**\n\n   - If a part number is identified: `<START> [Nissan Part Number] <END>`\n   - If no valid number is identified: `<START> NONE <END>`",
        "validation_prompt": "Validate the following Nissan part number: {extracted_number}\n\nRules for validation:\n1. The Nissan part number should consist of exactly 10 or 6 characters, with a hyphen separating the two parts.\n2. The format MUST adhere to this structure:\n   - First part (Part Type Group): TYPICALLY 5 or 3 characters (combination of digits and letters).\n   - Hyphen (required): separates the Part Type Group and Unique Part Identifier.\n   - Second part (Unique Part Identifier): TYPICALLY 5 or 3 characters, which may contain a combination of digits and letters (e.g., \"1CA0A\", \"5N00B\").\n3. Ensure no extra characters, digits, or spaces are included outside of this format.\n4. Carefully check for commonly confused characters:\n   - '0' and 'O' (letter O) should not be mixed up.\n   - '1' and 'I' (letter I) or '7' should not be confused.\n5. Verify that the identified Part Type Group aligns with Nissan's known part categories and conventions.\n6. Confirm that the Unique Part Identifier matches Nissan numbering conventions for specific model compatibility or version information.\n\nPreviously incorrect predictions on this page: {incorrect_predictions}\n\nTake a methodical, step-by-step approach to avoid mistakes.\n\nIf the number follows these rules, respond with:\n<VALID>\nIf the number does not follow these rules, appears to contain errors, or deviates from Nissan standard format, respond with:\n<INVALID>\nExplanation: [Provide a brief explanation of why it's valid or invalid, including details about any formatting issues or character confusion concerns.]"
    }
}
